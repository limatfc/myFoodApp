(this.webpackJsonpmyfoodapp=this.webpackJsonpmyfoodapp||[]).push([[0],[,,,,,,,,,,,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},,function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),r=n(3),i=n.n(r),s=(n(15),n(2)),o=(n(16),n.p+"static/media/meals.2971f633.jpeg"),l=(n(17),n(18),n(0)),u=function(){return Object(l.jsx)("svg",{className:"icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:Object(l.jsx)("path",{d:"M3 1a1 1 0 000 2h1.22l.305 1.222a.997.997 0 00.01.042l1.358 5.43-.893.892C3.74 11.846 4.632 14 6.414 14H15a1 1 0 000-2H6.414l1-1H14a1 1 0 00.894-.553l3-6A1 1 0 0017 3H6.28l-.31-1.243A1 1 0 005 1H3zM16 16.5a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0zM6.5 18a1.5 1.5 0 100-3 1.5 1.5 0 000 3z"})})},d=c.a.createContext({items:[],totalQuantityItems:0,totalPrice:0,addProduct:function(e){},deleteProduct:function(e){}}),j=function(e){var t=Object(a.useContext)(d);return Object(l.jsxs)("button",{onClick:function(t){e.onClickHandler(t.target.value)},className:"button-header",children:[Object(l.jsx)("span",{className:"icon--button",children:Object(l.jsx)(u,{})}),Object(l.jsx)("span",{className:"label--button",children:"Checkout Cart"}),Object(l.jsx)("span",{className:"items--button",children:t.totalQuantityItems})]})},b=(n(20),function(){return Object(l.jsxs)("section",{className:"summary-section",children:[Object(l.jsx)("h2",{children:"Why do we serve the best food in the world?"}),Object(l.jsx)("p",{children:"Because in here you can find a huge variety of food, and everything is prepared by our prestigious chefs. To ensure we make the best meals, we always use fresh ingredients, all cultivated nationally."}),Object(l.jsx)("p",{children:"And the best part is - you can enjoy everything from the comfort of your house! Take a look at our menu and let us know what you wish to eat."}),Object(l.jsx)("span",{className:"bold",children:"Here, your wish is an order."})]})}),m=function(e){return Object(l.jsxs)(c.a.Fragment,{children:[Object(l.jsxs)("header",{className:"main-header",children:[Object(l.jsx)("h1",{children:"The Best Food In The World"}),Object(l.jsx)(j,{onClickHandler:function(t){e.onOpenCart(t)}})]}),Object(l.jsxs)("div",{className:"image-summary container",children:[Object(l.jsx)("img",{src:o,alt:"Plates with meals"}),Object(l.jsx)(b,{})]})]})},h=n(8),O=n.n(h),f=n(9),p=function(){var e=Object(a.useState)(!1),t=Object(s.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(null),i=Object(s.a)(r,2),o=i[0],l=i[1],u=Object(a.useCallback)(function(){var e=Object(f.a)(O.a.mark((function e(t,n){var a,r;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(!0),l(null),e.prev=2,e.next=5,fetch(t.url,{method:t.method?t.method:"GET",headers:t.headers?t.headers:{},body:t.body?JSON.stringify(t.body):null});case 5:if((a=e.sent).ok){e.next=8;break}throw new Error("Request failed");case 8:return e.next=10,a.json();case 10:r=e.sent,n(r),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(2),l(e.t0.message||"Something went wrong");case 17:c(!1);case 18:case"end":return e.stop()}}),e,null,[[2,14]])})));return function(t,n){return e.apply(this,arguments)}}(),[]);return{isLoading:n,error:o,sendRequest:u}},x=(n(22),n(23),function(e){var t=Object(a.useContext)(d).addProduct;Object(a.useContext)(d);return Object(l.jsx)("button",{onClick:function(n){t({name:e.name,price:e.price,id:e.id})},className:"button-add-item",children:"+1"})}),y=function(e){var t=Object(l.jsx)("h2",{children:"Sorry, it seems like this restaurant hasn't updated its list. Please try and contact them."});return e.mockMeals.length>0&&(t=e.mockMeals.map((function(e){return Object(l.jsxs)("div",{className:"meals",children:[Object(l.jsx)("p",{className:"name",children:e.name}),Object(l.jsx)("p",{className:"description",children:e.description}),Object(l.jsxs)("p",{className:"price",children:["$",e.price]}),Object(l.jsx)(x,{name:e.name,price:e.price,id:e.id})]},e.id)}))),e.error&&(t=Object(l.jsx)("p",{children:"Oops, it seems like your request didn't work."})),e.loading&&(t=Object(l.jsx)("h1",{children:"Loading, please wait."})),Object(l.jsx)(c.a.Fragment,{children:t})},v=(n(24),function(){var e=Object(a.useState)([]),t=Object(s.a)(e,2),n=t[0],c=t[1],r=p(),i=r.isLoading,o=r.error,u=r.sendRequest;return Object(a.useEffect)((function(){u({url:"https://orderfoodapp-be86f-default-rtdb.europe-west1.firebasedatabase.app/foodapp.json"},(function(e){for(var t in e){var n=e[t].map((function(e){return{id:e.id,name:e.name,price:e.price,description:e.description}}));c(n)}}))}),[u]),Object(l.jsx)("div",{className:"meal-items",children:Object(l.jsx)(y,{mockMeals:n,isLoading:i,error:o})})}),g=(n(25),function(){return Object(l.jsx)("footer",{children:"Web aplication designer by Thaisa Lima :D"})}),C=(n(26),function(e){return Object(l.jsx)("div",{onClick:function(){e.closeCart()},className:"backdrop"})}),N=function(e){return Object(l.jsx)("div",{className:"modalOverlay",children:e.children})},k=function(e){return Object(l.jsxs)(c.a.Fragment,{children:[i.a.createPortal(Object(l.jsx)(C,{closeCart:e.closeCart}),document.getElementById("overlayer")),i.a.createPortal(Object(l.jsxs)(N,{children:[" ",e.children]}),document.getElementById("overlayer"))]})},w=(n(27),n(28),function(e){var t=Object(a.useContext)(d);return Object(l.jsx)(c.a.Fragment,{children:Object(l.jsxs)("div",{className:"cart-items-",children:[Object(l.jsxs)("div",{className:"\xeftems-information",children:[Object(l.jsx)("p",{className:"\xeftem-name",children:e.name}),Object(l.jsx)("p",{className:"\xeftem-price",children:"$".concat(e.price)}),Object(l.jsx)("p",{className:"item-quantity",children:e.quantity})]}),Object(l.jsxs)("div",{className:"cart-buttons",children:[Object(l.jsx)("button",{className:"plus-button-cart-item",onClick:function(){t.addProduct({name:e.name,price:e.price,id:e.id})},children:"+"}),Object(l.jsx)("button",{className:"-button-cart-item",onClick:function(){t.deleteProduct({name:e.name,price:e.price,id:e.id})},children:"-"})]})]})})}),P=function(e){var t=Object(a.useState)(""),n=Object(s.a)(t,2),c=n[0],r=n[1],i=Object(a.useState)(!1),o=Object(s.a)(i,2),l=o[0],u=o[1],d=e(c);return{value:c,hasError:!d&&l,isValid:d,valueChangeHandler:function(e){r(e.target.value)},inputBlurHandler:function(e){u(!0)}}},S=function(e){var t=Object(a.useState)(!1),n=Object(s.a)(t,2),c=n[0],r=n[1],i=P((function(e){return""!==e.trim()})),o=i.value,u=i.hasError,d=i.isValid,j=i.valueChangeHandler,b=i.inputBlurHandler,m=P((function(e){return e.includes("@")})),h=m.value,O=m.hasError,f=m.isValid,x=m.valueChangeHandler,y=m.inputBlurHandler,v=!1;d&&f&&(v=!0);var g=p().sendRequest;return Object(l.jsxs)(l.Fragment,{children:[!c&&Object(l.jsxs)("form",{onSubmit:function(t){t.preventDefault(),e.items[0].user=o,e.items[0].email=h;var n=e.items;g({url:"https://orderfoodapp-be86f-default-rtdb.europe-west1.firebasedatabase.app/postdata.json",method:"POST",body:{text:n},headers:{"Content-Type":"application/json"}}),r(!0)},children:[Object(l.jsx)("header",{children:"To complete your order, please inform your name and your e-mail."}),Object(l.jsx)("label",{htmlFor:"name",children:"Name"}),Object(l.jsx)("input",{onBlur:b,onChange:j,value:o,id:"name",type:"text"}),u&&Object(l.jsx)("p",{children:"Sorry, but you must insert at least your fisrt name."}),Object(l.jsx)("label",{htmlFor:"email",children:"E-Mail"}),Object(l.jsx)("input",{onBlur:y,onChange:x,value:h,id:"email",type:"text"}),O&&Object(l.jsx)("p",{children:"Sorry, but it must be a valid email."}),Object(l.jsxs)("h3",{children:["Your total is $",e.totalPrice]}),Object(l.jsx)("button",{type:"submit",disabled:!v,children:"Order"})]}),c&&Object(l.jsx)("h1",{children:"Thank you for shopping with us. We have received your order, and will start working on it right away."})]})},q=function(e){var t=Object(a.useState)(!1),n=Object(s.a)(t,2),r=n[0],i=n[1],o=Object(a.useContext)(d),u=function(){e.onCloseCart()},j=o.items.sort((function(e,t){return t.name<e.name?1:-1}));return Object(l.jsxs)(c.a.Fragment,{children:[!r&&Object(l.jsx)(k,{closeCart:u,children:Object(l.jsxs)("div",{className:"cart-overlayer",children:[Object(l.jsx)("header",{className:"cart-header",children:"Your cart"}),0===o.items.length&&Object(l.jsxs)("h5",{className:"cart-lable",children:["Sorry, your cart is empty. Have you tried clicking on the"," ",Object(l.jsx)("span",{className:"enlarge",children:" PLUS (+) "}),"sign in our menu?"]}),j.map((function(e){return Object(l.jsx)(w,{name:e.name,price:e.price,id:e.id,quantity:e.quantity},e.id)})),o.totalPrice>0&&Object(l.jsxs)("div",{className:"total-price-cart",children:[Object(l.jsx)("span",{children:"Total Price"}),"$".concat(o.totalPrice)]}),Object(l.jsxs)("div",{className:"cart-buttons-buttom",children:[Object(l.jsx)("button",{className:"close-cart-button",onClick:u,children:"Close"}),o.totalPrice>0&&Object(l.jsx)("button",{onClick:function(){i(!r)},className:"order-cart-button",children:"Order"})]})]})}),r&&Object(l.jsx)(k,{closeCart:u,children:Object(l.jsx)(S,{items:j,totalPrice:o.totalPrice})})]})},H=n(6),E=n(10),B=function(e){var t=Object(a.useState)([]),n=Object(s.a)(t,2),c=n[0],r=n[1],i=Object(a.useState)(0),o=Object(s.a)(i,2),u=o[0],j=o[1],b=Object(a.useState)(0),m=Object(s.a)(b,2),h=m[0],O=m[1];Object(a.useEffect)((function(){var e=c.reduce((function(e,t){return e+t.quantity}),0);j(e)}),[c]);Object(a.useEffect)((function(){var e=c.reduce((function(e,t){return t.quantity*t.price+e}),0);O(e.toFixed(2))}),[c]);var f={items:c,totalQuantityItems:u,totalPrice:h,addProduct:function(e){var t=Object(E.a)({},e);r((function(e){var n=Object(H.a)(e),a=n.findIndex((function(e){return e.id===t.id}));return-1===a?t.quantity=1:(t.quantity=n[a].quantity+1,n.splice(a,1)),[t].concat(Object(H.a)(n))}))},deleteProduct:function(e){var t=Object(H.a)(c),n=c.findIndex((function(t){return t.id===e.id}));c[n].quantity>1?(t[n].quantity=t[n].quantity-1,r(t)):1===c[n].quantity&&(t.splice(n,1),r(t))}};return Object(l.jsx)(d.Provider,{value:f,children:e.children})},T=function(e){var t=Object(a.useState)(!1),n=Object(s.a)(t,2),c=n[0],r=n[1];return Object(l.jsxs)(B,{children:[c&&Object(l.jsx)(q,{onCloseCart:function(){r(!1)}}),Object(l.jsx)(m,{onOpenCart:function(e){r(!0)}}),Object(l.jsx)(v,{}),Object(l.jsx)(g,{})]})};i.a.render(Object(l.jsx)(c.a.StrictMode,{children:Object(l.jsx)(T,{})}),document.getElementById("root"))}],[[29,1,2]]]);
//# sourceMappingURL=main.03c98269.chunk.js.map